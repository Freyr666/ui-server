<!DOCTYPE html>
<html lang="ru">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="">
    <title>{{title}}</title>
    <!-- https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css -->
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/icon.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="/css/main.css" type="text/css">
    <style>
     @font-face {
         font-family: "Open Sans";
         src: url("https://fonts.googleapis.com/css?family=Open+Sans");
     }
    </style>
    <!-- Additional stylesheets -->
    {{#stylesheets}}
    <link rel="stylesheet" href={{stylesheet}} type="text/css">
    {{/stylesheets}}
    <!-- Additional scripts -->
    <script type="text/javascript">var username="{{user}}"</script>
    {{#pre_scripts}}
    <script {{#src}}src="{{script}}"{{/src}} type="text/javascript">
     {{^src}}
     {{{script}}}
     {{/src}}
    </script>
    {{/pre_scripts}}
    </head>
    <script>
     var cl = ((localStorage.getItem('toolbar')=='open') && (window.innerWidth >= 1200))
              ?'hide-sidedrawer':'';
       document.write('<body class="mdc-typography '+ cl +' ">');
     </script>
      <script>
       var cl = ((localStorage.getItem('toolbar')=='open') && (window.innerWidth >= 1200))
                ?'mdc-drawer--open':'';
       document.write('<aside id="mdc-drawer" class="mdc-drawer mdc-drawer--custom mdc-drawer--animating ' + cl +' ">');
      </script>
      <nav id="mdc-drawer-nav" class="mdc-drawer__drawer" onclick="event.stopPropagation()">
          <header class="mdc-drawer__header mdc-theme--primary-bg mdc-elevation--z4">
              <div class=" mdc-drawer__header-content mdc-theme--text-primary-on-primary">
                  <div id="drawer-panel" class="mdc-drawer__panel mdc-theme--text-primary-on-primary">
                      <script>
                       var str = ("{{user}}"=="root")?'Администратор':'{{user}}(Пользователь)';
                       document.write(str);
                      </script>
                     <i id="dropdown" class="material-icons mdc-icon icon-dropdown">
                        arrow_drop_down
                     </i>
                  </div>
              </div>
          </header>
          <div id="drawer-wrapper" class="mdc-drawer__wrapper mdc-drawer__wrapper--hidden">
            <a href="/" class="mdc-list-item">
                <i class="material-icons mdc-icon">
                    exit_to_app
                </i>
                     Выйти
            </a>
          </div>
          <hr class="mdc-list-divider">
          <nav class="mdc_drawer__content mdc-list-group">
              <div id="icon-with-text-demo" class="mdc-list mdc-tree">
                  {{#navigation}}
                  {{#simple}}
                  <div class="mdc-tree__item">
                      <a href="{{href}}" class="mdc-list-item demo-drawer-list-item">{{title}}</a>
                  </div>
                  {{/simple}}
                  {{^simple}}
                  <div class="mdc-tree__item">
                      <div class="mdc-list-item">
                          {{title}}
                          <i class="material-icons mdc-icon" style="align-items: flex-end;">
                             arrow_drop_down
                         </i>
                      </div>
                      <div class="mdc-list mdc-tree mdc-tree__item__nested-list mdc-tree__item__nested-list-hidden">
                          {{#subtree}}
                          <div class="mdc-tree__item">
                              <a href="{{href}}" class="mdc-list-item">
                                  {{title}}
                              </a>
                          </div>
                          {{/subtree}}
                      </div>
                  </div>
              </div>
              {{/simple}}
              {{/navigation}}
              </div>
          </nav>
      </nav>
   </aside>
   <header id="main-toolbar" class="mdc-toolbar mdc-toolbar--fixed">
        <div class="mdc-toolbar__row">
            <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
                <button id="demo-menu" class="demo-menu material-icons mdc-toolbar__menu-icon"
                style="outline: none;">
                    menu
                </button>
                <span id="page-title" class="mdc-toolbar__title ui__title">{{title}}</span>
            </section>
        </div>
    </header>
    <div id="main-content" class="content">
      <main id="main-with-sidebar" class="main-with-sidebar">
        <section id="arbitrary-content">
          {{#content}}
          {{{element}}}
          {{/content}}
        </section>
      </main>
    </div>
        <!-- https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js -->
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js">
    </script>
    <!-- Additional scripts -->
    {{#post_scripts}}
        <script {{#src}}src="{{script}}"{{/src}} type="text/javascript">
         {{^src}}
         {{{script}}}
         {{/src}}
        </script>
    {{/post_scripts}}
    <script>
      function rdy () { window.mdc.autoInit(); };
      document.addEventListener('DOMContentLoaded', rdy, false);
    </script>
    <script>
     var drawerEl  = document.getElementById('mdc-drawer');
     var btn       = document.getElementById('demo-menu');
     var body      = document.body;
     var nav       = 'mdc-drawer-nav';
     var open      = 'mdc-drawer--open';
     var animate   = 'mdc-drawer--animating';
     var hide      = 'hide-sidedrawer';

     function toggle () {
         if (drawerEl.classList.contains(open))
             { drawerEl.classList.remove(open);
               body.classList.remove(hide);
               localStorage.setItem('toolbar','');}
         else { drawerEl.classList.add(open);
                body.classList.add(hide);
                localStorage.setItem('toolbar','open');};
     }
     function resize () {
         window.setTimeout(function () {window.dispatchEvent(new Event('resize'))}, 225);
     }
     btn.addEventListener('click', function () {
         toggle ();
         resize ();
     });
     drawerEl.addEventListener('click', resize);
     drawerEl.addEventListener('click', toggle);
    </script>
    <script>
     var activatedClass = 'mdc-list-item--selected';
     document.querySelector('.mdc-drawer__drawer').addEventListener('click', function(event) {
        var el = event.target;
        while (el && !el.classList.contains('mdc-list-item')) {
          el = el.parentElement;
        }
        if (el) {
          var activatedItem = document.querySelector('.' + activatedClass);
          if (activatedItem) {
            activatedItem.classList.remove(activatedClass);
          }
          event.target.classList.add(activatedClass);
        }
      });
    </script>
    <script>
     var hidden  = 'mdc-drawer__wrapper--hidden';
     var not_hid = 'mdc-drawer__wrapper';
     var wrapper = document.getElementById('drawer-wrapper');
     var panel   = document.getElementById('drawer-panel');
     panel.addEventListener('click', function () {
         wrapper.classList.toggle(hidden);
        });
     var dropdown = document.getElementById('dropdown');
     var rotated  = 'mdc-expand--rotated';
     panel.addEventListener('click', function () {
         dropdown.classList.toggle(rotated);
     });
    </script>
  </body>
</html>
